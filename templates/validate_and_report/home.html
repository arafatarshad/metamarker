{% extends "dashboard_main_template/dashboard_main.html" %}
{% load staticfiles %}


{%block style%}



{% endblock %}
{% block content %}
<link rel="stylesheet" href="{% static 'vendor/jquery-datatable/jquery.datatable.min.css' %}">

<div class="box box-default">
  <div class="box-header with-border">
    <h3 class="box-title">Tasks available for report generation</h3>
    <div class="box-tools pull-right">
      <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
    </div>
  </div>
  <div class="box-body">

    <table id="example"  class="cell-border" class="display" style="width:100%">
          <thead>
              <tr>
                  <th>Dataset Name</th>
                  <th>Date Created</th>
                  <th>Procssing Model Name</th>
                  <th>Action</th>
              </tr>
          </thead>
          <tbody></tbody>
    </table>
  </div>
</div>

<!-- <div class="box box-default">
  <div class="box-header with-border">
    <h3 class="box-title">Existing report</h3>
    <div class="box-tools pull-right">
      <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
    </div>
  </div>
  <div class="box-body">

    <table id="example1"  class="cell-border" class="display" style="width:100%">
          <thead>
              <tr>
                  <th>Date Created</th>
                  <th>Dataset name</th>
                  <th>Action</th>
              </tr>
          </thead>
          <tbody></tbody>
    </table>
  </div>
</div> -->

{% endblock%}
{%block scripts %}
<script type="text/javascript" src="{% static 'vendor/jquery-datatable/jquery.dataTables.min.js' %}"></script>

<script type="text/javascript" language="javascript" class="init">
  $( document ).ready(function() {
        $('li#validate_and_report').addClass("active");
    });
     $(document).ready(function() {
         $('#example').DataTable( {
             "select": true,
             "processing": true,
             "ajax": {
                 "processing": true,
                 "url": "{% url 'alljob_with_validation' 123 %}".replace('123',{{project.id}}),
                 "dataSrc": ""
             },
             "columns": [
                   { "data": "dataset_name" },
                   { "data": "created_at" },
                   { "data": "processing_algorithm" },
                   {
                        data: "id",
                        render: function ( data, type,row,meta ) {
                            var url2 = "{% url 'download_report_result' 123 %}".replace('123',data);
                            var buttons=  "  <a href="+url2+" class='btn btn-success btn-xs' >Manage Downloads</a>"
                            return buttons
                        }
                    }
                 ]
         },

         );
     } );
 </script>
{% endblock%}
